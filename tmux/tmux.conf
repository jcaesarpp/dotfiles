
# ==========================================
# 1. GESTOR DE PLUGINS (TPM)
# ==========================================
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'thewtex/tmux-mem-cpu-load'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

# ==========================================
# 2. CONFIGURACIÓN GENERAL
# ==========================================
# Cambiar Prefix a Ctrl+a
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Mejorar colores y terminal
#set -g default-terminal "screen-256color"
#set -as terminal-overrides ',xterm-256color:RGB'

set -g default-terminal "xterm-256color"
set -as terminal-overrides ',xterm*:Tc'

# Índices de ventanas y paneles desde 1
setw -g pane-base-index 1
set -g base-index 0
set-option -g renumber-windows on

# Moverse entre paneles con Prefix + h, j, k, l
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Redimensionar paneles (manteniendo presionado Prefix + Alt + flechas)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Recarga de configuración con mensaje visible
unbind r
bind r source-file ~/.tmux/tmux.conf \; display-message " Config Reloaded! "
set -g display-time 3000

# ==========================================
# 3. ESTÉTICA Y STATUS BAR (Limpieza de bordes)
# ==========================================
set -g status-fg '#dcdccc'
set -g status-bg 'colour238'
set -g status-right-length 120

# Tu barra de status corregida
set -g status-right "#{prefix_highlight} #(${HOME}/.tmux/plugins/tmux-mem-cpu-load/tmux-mem-cpu-load -m 2 -t 0 -g 10 -a 0) "

# Estilo de la ventana activa
setw -g window-status-current-style fg=red,bright

set -g status-style bg="#3f3f3f",fg="#dcdccc"

# Eliminar bordes molestos si la terminal es más grande
setw -g aggressive-resize on
set -g window-size smallest

# ==========================================
# 4. ATAJOS Y SCRIPTS
# ==========================================

# Modo copia estilo Vim
unbind [
bind Escape copy-mode
unbind p
bind p paste-buffer

# División vertical con |
bind | split-window -h

# División horizontal con -
bind - split-window -v

# (Opcional) Desvincular las teclas por defecto para no confundirse
unbind '"'
unbind %

# ==========================================
# 5. INICIALIZACIÓN (Debe ir al final)
# ==========================================
run '~/.tmux/plugins/tpm/tpm'

